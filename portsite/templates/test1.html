{% load static %}
{% load tag %}

<!DOCTYPE html>

<html class="no-js" oncontextmenu="return false;">
<title>Test1 | eivydas.com</title>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
var i = 0;

function typingLoop(logArray, arrayLength){
	setTimeout(function() {
		var textObj = $("p.line1");
		var objText = textObj.text();
		var currentText = logArray[arrayLength-logArray.length];
		var formatArray = currentText.split('>',1); // find username

		if(i == 0 && (arrayLength-logArray.length) != logArray.length-1){ // no extra < at end
			textObj.append("<");
			textObj.append(formatArray[0]); // print username
			i = currentText.search(">");
		}

		//document.write(formatArray[1]);


		if(i < currentText.length && arrayLength > 0){
			//var currentText = logArray[0];

			// Add text continually
			textObj.append(currentText[i]);
			// Create audio
			var audioElement = document.createElement('audio');

			// Select random keyboard sound
			var rand = Math.floor(Math.random() * 4); // rand int 0-2
			var rand2 = Math.floor(Math.random() * 3); // rand int 0-2

			switch(rand){ // random audio keyboard
				case 0:
					audioElement.setAttribute('src', 'https://www.fesliyanstudios.com/play-mp3/10');
					break;
				case 1:
					audioElement.setAttribute('src', 'https://www.fesliyanstudios.com/play-mp3/647');
					break;
				case 2:
					audioElement.setAttribute('src', 'https://www.fesliyanstudios.com/play-mp3/649');
					break;
				case 3: // allow less keyboard noise
					break;
			}

			switch(rand2){ // random audio volume
				case 0:
					audioElement.volume = 0.3;
					break;
				case 1:
					audioElement.volume = 0.5;
					break;
				case 2:
					audioElement.volume = 0.7;
					break;
			}

			audioElement.currentTime = 0.1;
			audioElement.play();

			i++;
			typingLoop(logArray, arrayLength);
		} else{
			setTimeout(function(){
				i = 0;
			//
				textObj.append("<br>");
				typingLoop(logArray, arrayLength+1);
			},1000);
		}
	}, 90)
}

// Main Js
$(document).ready(function(){
	var logArray = ["Guo_Si> Hey, you know what sucks?","TheXPhial> vaccuums","Guo_Si> Hey, you know what sucks in a metaphorical sense?","TheXPhial> black holes","Guo_Si> Hey, you know what just isn't cool?","TheXPhial> lava?"];
	logArray.push(">");
	setTimeout(function() {
		typingLoop(logArray, logArray.length);
	}, 2000);
	//document.write(logArray[0]);
	//var textObj = $("p.line1");
	//textObj.append("<br>New line<br>");

});

</script>
</head>

<style>
	#container1 {
		width: 400px;
		height: 400px;
		position: relative;
		background: rgba(60, 60, 60, 0);
	}

	#animation1 {
		width: 50px;
		height: 50px;
		border-radius: 50%;

		position: absolute;
		top: 175px;
		left: 175px;
		background-color: #a1f5ff;
	}

	#animation2 {
		width: 0px;
		height: 5px;
		border-radius: 0%;

		position: absolute;
		top: 190px;
		left: 195px;
		background-color: #a1f5ff;
	}

	div.div1 {
		background-color: black;
		position: absolute;
		top: 0;
		bottom: 0;
		left: 0;
		right: 0;
		width: 100%;
		height: 75%;
		margin: auto;
		background: rgba(60, 60, 60, 0);
		transform: translate(0%, -10%);

		display: flex;
		justify-content: center;
		align-items: center;
	}

	p.line1 {
		color: black;
		font-family: "Lucida Console", Courier, monospace;
	}

</style>

<body oncontextmenu="return false;"  style="-moz-user-select: none; -webkit-user-select: none; -ms-user-select:none; user-select:none;-o-user-select:none;" unselectable="on" onselectstart="return false;" onmousedown="return false;">
<div class="div1">
	<p class="line1">IRC Log: Entry #396<br></p>
</div>

<div class="cover"></div>
<div class="cover2"></div>

</body>
</html>
